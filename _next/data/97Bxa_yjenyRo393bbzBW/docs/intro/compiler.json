{"pageProps":{"frontmatter":{"title":"React, Faster","description":"Tamagui's optimizing compiler for React nets 30-to-1,000% performance, in nearly Â½ the code.","slug":"compiler","readingTime":{"text":"7 min read","minutes":6.44,"time":386400,"words":1288}},"code":"var Component=(()=>{var N=Object.create;var h=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var b=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports),x=(t,i)=>{for(var l in i)h(t,l,{get:i[l],enumerable:!0})},u=(t,i,l,n)=>{if(i&&typeof i==\"object\"||typeof i==\"function\")for(let c of v(i))!w.call(t,c)&&c!==l&&h(t,c,{get:()=>i[c],enumerable:!(n=f(i,c))||n.enumerable});return t};var _=(t,i,l)=>(l=t!=null?N(y(t)):{},u(i||!t||!t.__esModule?h(l,\"default\",{value:t,enumerable:!0}):l,t)),T=t=>u(h({},\"__esModule\",{value:!0}),t);var k=b((R,g)=>{g.exports=_jsx_runtime});var q={};x(q,{default:()=>j,frontmatter:()=>S});var e=_(k()),S={title:\"React, Faster\",description:\"Tamagui's optimizing compiler for React nets 30-to-1,000% performance, in nearly \\xBD the code.\"};function C(t={}){let{wrapper:i}=t.components||{};return i?(0,e.jsx)(i,Object.assign({},t,{children:(0,e.jsx)(l,{})})):l();function l(){let n=Object.assign({p:\"p\",strong:\"strong\",img:\"img\",a:\"a\",h3:\"h3\",code:\"code\",em:\"em\",ul:\"ul\",li:\"li\",h5:\"h5\",pre:\"pre\",div:\"div\",span:\"span\"},t.components),{IntroParagraph:c,YStack:o,Table:d,TableCol:s,TableCell:a,BenchmarkChartWeb:p,BenchmarkChartNative:m}=n;return m||r(\"BenchmarkChartNative\",!0),p||r(\"BenchmarkChartWeb\",!0),c||r(\"IntroParagraph\",!0),d||r(\"Table\",!0),a||r(\"TableCell\",!0),s||r(\"TableCol\",!0),o||r(\"YStack\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(c,{children:(0,e.jsxs)(n.p,{children:[`If you are developing a web and mobile app using React Native (or really any platform) today,\nyou've already made a decision. This decision can be thought of as a sort of `,(0,e.jsx)(n.strong,{children:`frontend\ndevelopment trilemma`}),\", illustrated as a choose-two-of-three:\"]})}),`\n`,(0,e.jsx)(o,{maw:650,als:\"center\",children:(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{src:\"/trilemma.svg\",alt:`The Frontend Trilemma: Choose two of DX, UX, and multi-platform (or run out of\ntime).`})})}),`\n`,(0,e.jsx)(n.p,{children:`The center of this trilemma could be titled, \"Write once, feels native.\" As of today it's nearly impossible (and at the limit perhaps not even desirable), but not for good reason. This document isn't arguing every reason why, but will focus on React Native, and how we can realistically gain 20-50% more code share without sacrificing any UX compared to writing separate apps targeted to each platform.`}),`\n`,(0,e.jsxs)(n.p,{children:[\"The Tamagui Compiler does just this by optimizing apps in four different ways. To skip to the details, \",(0,e.jsx)(n.a,{href:\"#how-tamagui-helps\",children:\"head to the next section\"}),\".\"]}),`\n`,(0,e.jsx)(n.h3,{id:\"why-universal\",children:\"Why Universal\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"React Native enables quite a bit more code-sharing than ever before while still rendering to native primitives. But it recommends writing things twice generally for the best UX - as is made very clear in the \",(0,e.jsx)(n.code,{children:\"<title>\"}),' of the homepage itself: \"',(0,e.jsx)(n.a,{href:\"https://reactnative.dev/\",children:\"learn once, write anywhere\"}),'\" as opposed to \"write once, runs everywhere.\"']}),`\n`,(0,e.jsx)(n.p,{children:\"This is a smart strategy, and it can pay off in more native-feeling and performing apps.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"Still, the reality is that many companies large and small make \",(0,e.jsx)(n.em,{children:\"rational\"}),\" decisions to share code to some degree, up to and including nearly all of the visual code besides maybe a few high level views. In React, this is generally done using the excellent \",(0,e.jsx)(n.a,{href:\"https://necolas.github.io/react-native-web/\",children:\"React Native Web\"}),\".\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Pre product-market fit, for most types of apps it makes sense. Any app with a large surface area of features. Or any app where you want to experiment often and cheaply. Often the reason is as simple as budget, or time.\"}),`\n`,(0,e.jsx)(n.p,{children:\"But it's common for bigger companies to do this too to a larger degree, Twitter and Tinder both do to a significant degree. Usually though this makes sense on apps that can sacrifice SEO, load time, and complex interfaces. The reasons for wanting to write less code are fairly inherent. It's just the outcome we often don't like: the sacrifice of peformance and native feel.\"}),`\n`,(0,e.jsx)(n.p,{children:\"We can rephrase the diagram above as follows:\"}),`\n`,(0,e.jsxs)(d,{heading:\"Choose your path:\",children:[(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0}),(0,e.jsx)(a,{children:\"1\"}),`\n`,(0,e.jsx)(a,{children:\"2\"}),`\n`,(0,e.jsx)(a,{children:\"3\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Strategy\"}),`\n`,(0,e.jsx)(a,{children:\"Universal\"}),`\n`,(0,e.jsx)(a,{children:\"Lean\"}),`\n`,(0,e.jsx)(a,{children:\"Big-Budget\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Native + Web\"}),`\n`,(0,e.jsx)(a,{children:\"\\u2705\"}),`\n`,(0,e.jsx)(a,{children:\"\\u274C\"}),`\n`,(0,e.jsx)(a,{children:\"\\u2705\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Code Sharing\"}),`\n`,(0,e.jsx)(a,{children:\"> 70%\"}),`\n`,(0,e.jsx)(a,{children:\"-\"}),`\n`,(0,e.jsx)(a,{children:\"< 30%\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Feels native\"}),`\n`,(0,e.jsx)(a,{children:\"\\u274C\"}),`\n`,(0,e.jsx)(a,{children:\"\\u2705\"}),`\n`,(0,e.jsx)(a,{children:\"\\u2705\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Ship Fast\"}),`\n`,(0,e.jsx)(a,{children:\"\\u2705\"}),`\n`,(0,e.jsx)(a,{children:\"\\u2705\"}),`\n`,(0,e.jsx)(a,{children:\"\\u274C\"})]})]}),`\n`,(0,e.jsxs)(n.p,{children:[\"At best, without sacrificing performance, a React Native app today can share much of its state and utilities (like hooks), as well as \",(0,e.jsx)(n.em,{children:\"some amount of visual components\"}),\". But the more code it shares, the more performance suffers. This is more true on the web, where the CSS-in-JS approach of React Native Web leads to large bundle-sizes and largely reduced performance in critical areas like responsive styles. This is mostly due to limitations in the \",(0,e.jsx)(n.code,{children:\"StyleSheet\"}),\" API, some of which have proposals to fix.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"For now, this means your media queries, interactive styles, and all theme, animation, and dynamic styles end up running on your main thread, oftentimes re-reconciling a large percents of the React tree, and causing laggy behavior in areas that most contribute to UX.\"}),`\n`,(0,e.jsx)(n.h3,{id:\"how-tamagui-helps\",children:\"How Tamagui Helps\"}),`\n`,(0,e.jsx)(n.p,{children:\"The Tamagui compiler makes writing Universal Apps much faster - especially on the web - through its optimizing compiler. It reduces bundle size, improves runtime performance, and outputs code that targets native primitives instead of running in JS (on the web, that's CSS media queries, CSS variables, and CSS pseudo styles).\"}),`\n`,(0,e.jsx)(n.p,{children:\"It optimizes:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"Any usage of the \",(0,e.jsx)(n.code,{children:\"styled\"}),\" factory function into atomic CSS.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"Most inline styles using both \",(0,e.jsx)(n.code,{children:\"partial evaluation\"}),\" and \",(0,e.jsx)(n.code,{children:\"hoisting\"}),\".\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"Tree depth, by turning your custom components into \",(0,e.jsx)(n.code,{children:\"div\"}),\" or \",(0,e.jsx)(n.code,{children:\"View\"}),\" when possible.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"The included hooks \",(0,e.jsx)(n.code,{children:\"useMedia\"}),\" and \",(0,e.jsx)(n.code,{children:\"useTheme\"}),\", turning even logical conditionals into static media queries or CSS variables.\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"It can turn something like this:\"}),`\n`,(0,e.jsx)(n.h5,{id:\"input\",children:\"Input\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"language-tsx\",children:[(0,e.jsxs)(n.div,{\"data-line\":\"1\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" Text\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" YStack \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'@tamagui/core'\"}),`\n`]}),(0,e.jsx)(n.div,{\"data-line\":\"2\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:`\n`}),(0,e.jsxs)(n.div,{\"data-line\":\"3\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" brandColor \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'./constants'\"}),`\n`]}),(0,e.jsx)(n.div,{\"data-line\":\"4\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:`\n`}),(0,e.jsxs)(n.div,{\"data-line\":\"5\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function-variable function\",children:\"App\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"6\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[\"  \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"YStack\"})]}),`\n    `,(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"padding\"}),(0,e.jsxs)(n.span,{className:\"token script language-javascript\",children:[(0,e.jsx)(n.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"big \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'$5'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'$3'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),`\n    `,(0,e.jsxs)(n.span,{className:\"token spread\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"colored \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n      backgroundColor`,(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" brandColor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),(0,e.jsx)(n.span,{className:\"token plain-text\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"7\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token plain-text\",children:\"    \"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Text\"})]}),`\n      `,(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"color\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"green\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),`\n      `,(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"$large\"}),(0,e.jsxs)(n.span,{className:\"token script language-javascript\",children:[(0,e.jsx)(n.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n        color`,(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'yellow'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n        $hover`,(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n          color`,(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'green'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),`\n    `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),(0,e.jsx)(n.span,{className:\"token plain-text\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"8\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token plain-text\",children:\"      Lorem ipsum dolor.\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"9\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token plain-text\",children:\"    \"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"</\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Text\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),(0,e.jsx)(n.span,{className:\"token plain-text\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"10\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token plain-text\",children:\"  \"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"</\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"YStack\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"11\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"Into this:\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"language-tsx\",children:[(0,e.jsxs)(n.div,{\"data-line\":\"1\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" YStack\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" concatClassName \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'tamagui'\"}),`\n`]}),(0,e.jsx)(n.div,{\"data-line\":\"2\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:`\n`}),(0,e.jsxs)(n.div,{\"data-line\":\"3\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function-variable function\",children:\"App\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"4\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[\"  \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),`\n    `,(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"className\"}),(0,e.jsxs)(n.span,{className:\"token script language-javascript\",children:[(0,e.jsx)(n.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"concatClassName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n      _cn `,(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"big \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" _cn2 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" _cn3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"' '\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"colored \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" _cn4 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"' '\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),(0,e.jsx)(n.span,{className:\"token plain-text\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"5\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token plain-text\",children:\"    \"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),\"p\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"className\"}),(0,e.jsxs)(n.span,{className:\"token script language-javascript\",children:[(0,e.jsx)(n.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"_cn5\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),(0,e.jsx)(n.span,{className:\"token plain-text\",children:\"Lorem ipsum dolor.\"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"</\"}),\"p\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),(0,e.jsx)(n.span,{className:\"token plain-text\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"6\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token plain-text\",children:\"  \"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"7\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.div,{\"data-line\":\"8\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:`\n`}),(0,e.jsxs)(n.div,{\"data-line\":\"9\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" _cn5 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"' _c-scmqyp _d-1471scf _ff-xeweqh _fs-7uzi8p _lh-1l6ykvy'\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"10\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" _cn4 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'  _bc-1542mo4'\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"11\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" _cn3 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"' _pb_-12bic3x _pl_-7ztw5e _pr-g6vdx7 _pt-1vq430g'\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"12\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" _cn2 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"' _pb-z3qxl0 _pl-14km6ah _pr-1qpq1qc _pt-1medp4i'\"}),`\n`]}),(0,e.jsxs)(n.div,{\"data-line\":\"13\",className:\"highlight-line\",\"data-highlighted\":\"true\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" _cn \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"' _bc-abc123 _d-6koalj _fd-eqz5dr _fls-1q142lx '\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Along with a CSS (of which you can see alongside many more examples see \",(0,e.jsx)(n.a,{href:\"/\",children:\"on the homepage\"}),\").\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Notice that the compiler turned the \",(0,e.jsx)(n.code,{children:\"Text\"}),\" into a \",(0,e.jsx)(n.code,{children:\"p\"}),\", and the \",(0,e.jsx)(n.code,{children:\"YStack\"}),\" into a \",(0,e.jsx)(n.code,{children:\"div\"}),\". This is known as tree-flattening, and for both web and native it yields very nice improvements to render performance.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"This is a typical performance improvement, where much of the gains come from flattening:\"}),`\n`,(0,e.jsx)(o,{my:\"$2\",children:(0,e.jsx)(p,{})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Across a few apps, we've seen 30-50% of components typically flatten, with a higher percent achievable just by being aware of how the flattening de-optimizes (adding the \",(0,e.jsx)(n.code,{children:\"// debug\"}),\" comment to the top of the file will show a fuller output).\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Meanwhile, on Native, because we can't optimize to anything beyond vanilla React Native code, the gains are less. Still, the results are impressive given you now have performance within 5% of hand-optimizing React Native code, except you get a whole suite of features for free.\"}),`\n`,(0,e.jsx)(o,{my:\"$2\",children:(0,e.jsx)(m,{})}),`\n`,(0,e.jsxs)(n.p,{children:[\"You can see \",(0,e.jsx)(n.a,{href:\"/docs/intro/benchmarks\",children:\"more Benchmarks with explanations here\"}),\".\"]}),`\n`,(0,e.jsx)(n.p,{children:\"The compiler itself deserves more detail, which we'll expand on in the blog. For now, this serves as a decent introduction.\"}),`\n`,(0,e.jsx)(n.p,{children:`Compilers can dramatically improve code sharing without the typical sacrifice of performance. They don't solve every problem of universal apps, but by making responsive styling, themes and interactive styles all perform at native levels, they unlock sharing a much larger percentage of the \"middle to leaf\" components in apps.`}),`\n`,(0,e.jsx)(n.p,{children:\"It gives us a new choice:\"}),`\n`,(0,e.jsxs)(d,{my:\"$8\",children:[(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0}),(0,e.jsx)(a,{children:\"4\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Strategy\"}),`\n`,(0,e.jsx)(a,{children:\"Universal + Compiler\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Native + Web\"}),`\n`,(0,e.jsx)(a,{children:\"\\u2705\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Code Sharing\"}),`\n`,(0,e.jsx)(a,{children:\"~60-90%\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Ship Fast\"}),`\n`,(0,e.jsx)(a,{children:\"\\u2705\"})]}),(0,e.jsxs)(s,{children:[(0,e.jsx)(a,{head:!0,children:\"Feels native\"}),`\n`,(0,e.jsx)(a,{children:\"\\u2705\"})]})]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Give Tamagui a try with \",(0,e.jsx)(n.code,{children:\"npm create tamagui-app\"}),\".\"]})]})}}var j=C;function r(t,i){throw new Error(\"Expected \"+(i?\"component\":\"object\")+\" `\"+t+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return T(q);})();\n;return Component;"},"__N_SSG":true}